<!DOCTYPE html>
<html lang="en"><head>
<script src="what-is-the-posterior-files/libs/clipboard/clipboard.min.js"></script>
<script src="what-is-the-posterior-files/libs/quarto-html/tabby.min.js"></script>
<script src="what-is-the-posterior-files/libs/quarto-html/popper.min.js"></script>
<script src="what-is-the-posterior-files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="what-is-the-posterior-files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="what-is-the-posterior-files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="what-is-the-posterior-files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="what-is-the-posterior-files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>What is the posterior?</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="what-is-the-posterior-files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="what-is-the-posterior-files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="what-is-the-posterior-files/libs/revealjs/dist/theme/quarto.css">
  
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var head = document.getElementsByTagName("head")[0];
      var link = document.createElement("link");
      link.rel = "stylesheet";
      link.href = "https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css";
      head.appendChild(link);

      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.js";
      script.async = false;
      script.addEventListener('load', function() {
        var mathElements = document.getElementsByClassName("math");
          var macros = [];
          for (var i = 0; i < mathElements.length; i++) {
            var texText = mathElements[i].firstChild;
            if (mathElements[i].tagName == "SPAN") {
              window.katex.render(texText.data, mathElements[i], {
                displayMode: mathElements[i].classList.contains('display'),
                throwOnError: false,
                macros: macros,
                fleqn: false
              });
            }
          }
      });
      head.appendChild(script);
    });
  </script>
  
  <link href="what-is-the-posterior-files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="what-is-the-posterior-files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="what-is-the-posterior-files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="what-is-the-posterior-files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="style.css" rel="stylesheet">
</head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9HYBK2EK41"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9HYBK2EK41');
</script>
<body class="quarto-light">
<script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
<script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
<script defer="" src="https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous" );"=""></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: "\\begin{htmlmath}", right: "\\end{htmlmath}", display: true}
          ],
          trust: true,
          strict: false
        });
    });
</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="/assets/title.png" data-background-opacity="0.25" data-background-size="cover" class="quarto-title-block center">
  <h1 class="title">Bayesian Inference:
</h1><h3 style="margin: 0">
What is the posterior and why should I care?
</h3>
  <p class="subtitle"><br>Data Philly, Feb.&nbsp;2024<br>Dante Gates</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="about-me" class="slide level2">
<h2>About me</h2>
<p><br> <br></p>
<div class="margin-comment">
<p>Husband and Father</p>
<p>Philly data scientist</p>
<p>wrote a haiku once</p>
</div>
</section>
<section id="expectations-for-this-talk" class="slide level2">
<h2>Expectations for this talk</h2>
<p><br></p>
<p><strong>Goal</strong>: When you think of Bayesian Inference, think beyond point estimates and confidence intervals.</p>
<div class="fragment">
<p><strong>Non-goals</strong>: How to …</p>
</div>
<div class="fragment">
<p><br> In fact… If you wish I demonstrated how to fit Bayesian models that’s a success</p>
</div>
</section>
<section>
<section id="background" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">Background</h1>
<blockquote>
<p>Bayesian methods don’t do the same things better; they do different things, which are [sometimes] better</p>
</blockquote>
<div style="text-align: right">
<p><a href="https://allendowney.blogspot.com/2016/06/bayesian-statistics-for-undergrads.html">Allen Downey</a></p>
</div>
</section>
<section id="bayes-theorem" class="slide level2">
<h2>Bayes’ theorem</h2>
<p><br> <br></p>
<p><span class="math display">
P(A\vert B) = \frac{P(B\vert A)P(A)}{P(B)}
</span></p>
<p><br></p>
<aside class="notes">
<p>Here, <span class="math inline">A</span> and <span class="math inline">B</span> are concrete events, like what is the probability I will make it to my appointment on time given I leave before 9AM?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="bayesian-inference" class="slide level2">
<h2>Bayesian inference</h2>
<p><br> <br></p>
<p><span class="math display">
P(\theta\vert D) = \frac{P(D\vert \theta)P(\theta)}{P(D)}
</span></p>
<aside class="notes">
<p>Here, <span class="math inline">\theta</span> represents unknown quantities we wish to estimate from the data: like coefficients in a linear regression, or the mean of some distribution. <span class="math inline">D</span> is the data we’ve observed.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="bayesian-inference-1" class="slide level2">
<h2>Bayesian inference</h2>
<p><br></p>
<p><span class="math display">
\underbrace{P(\theta\vert D)}_{Posterior} = \frac{\overbrace{P(D\vert \theta)}^{likelihood}\ \overbrace{P(\theta)}^{priors}}{\underbrace{P(D)}_{marginal\ likelihood}}
</span></p>
<aside class="notes">
<p>Each part plays a specific, and useful, role in Bayesian inference.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="its-a-probability-distribution" class="slide level2">
<h2>It’s a <em>probability</em> distribution</h2>
<p><br></p>
<p><span class="math display">
{\bf \underbrace{P(\theta\vert D)}_{Posterior}} = \frac{\overbrace{P(D\vert \theta)}^{likelihood}\ \overbrace{P(\theta)}^{priors}}{\underbrace{P(D)}_{marginal\ likelihood}}
</span></p>
<aside class="notes">
<p>Our focus is on the <em>posterior</em>. By definition this is a probability distribution. It may not be the distribution you want, but it’s always a probability distribution.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="example-billiards" class="title-slide slide level1 center">
<h1>Example: Billiards</h1>

</section>
<section id="premise" class="slide level2">
<h2>Premise</h2>
<p><br></p>
<div class="r-hstack">
<p><img data-src="what-is-the-posterior-assets/billiards/billiards-game.png"></p>
<div class="margin-comment" style="font-size: .6em; max-width: 10em;">
<ol type="1">
<li>An initial ball is rolled (colored white)</li>
<li>Subsequent rolls that fall to the left, score for Alice (colored blue)</li>
<li>Rolls that fall to the right score for Bob (colored red)</li>
<li>First player to reach 6 points wins</li>
</ol>
</div>
</div>
</section>
<section id="the-problem" class="slide level2">
<h2>The problem</h2>
<p><br></p>
<div class="r-hstack">
<p><img data-src="what-is-the-posterior-assets/billiards/billiards-game-problem.png"></p>
<div class="margin-comment" style="font-size: .6em; max-width: 10em">
<p>Alice has scored 5 times, Bob has scored 3, what was the position of the first roll?</p>
</div>
</div>
</section>
<section id="follow-the-recipe" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Follow the recipe</h2>
<p><br></p>
<div data-id="1" style="position: absolute; left: 5em;">
<p><span class="math display">
\underbrace{P(\theta\vert D)}_{Posterior} = \frac{\overbrace{P(D\vert \theta)}^{likelihood}\ \overbrace{P(\theta)}^{priors}}{\underbrace{P(D)}_{marginal\ likelihood}}
</span></p>
</div>
</section>
<section id="follow-the-recipe-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Follow the recipe</h2>
<p><br></p>
<div>
<div style="font-size: .8em">
<ul>
<li class="fragment"><span class="math inline">D=(y=5, n=8)</span>, Alice’s score and number of turns taken</li>
<li class="fragment"><span class="math inline">\theta=x</span>, the position of the first ball</li>
<li class="fragment"><span class="math inline">P(x)=\text{Uniform}(0,1)</span></li>
<li class="fragment"><span class="math inline">P(y\vert D)=\text{Binomial}(p=x, n)</span></li>
</ul>
</div>
</div>
<div data-id="1" style="font-size: .8em; position: absolute; right: 0; bottom: 0">
<p><span class="math display">
\underbrace{P(\theta\vert D)}_{Posterior} = \frac{\overbrace{P(D\vert \theta)}^{likelihood}\ \overbrace{P(\theta)}^{priors}}{\underbrace{P(D)}_{marginal\ likelihood}}
</span></p>
</div>
</section>
<section id="follow-the-recipe-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Follow the recipe</h2>
<p><br></p>
<div style="font-size: .8em">
<ul>
<li><span class="math inline">D=(y=5, n=8)</span>, Alice’s score and number of turns taken</li>
<li><span class="math inline">\theta=x</span>, the position of the first ball</li>
<li><span class="math inline">P(x)=\text{Uniform}(0,1)</span></li>
<li><span class="math inline">P(y\vert D)=\text{Binomial}(p=x, n)</span></li>
</ul>
</div>
<div data-id="1" style="font-size: .8em; position: absolute; right: 0; bottom: 0">
<p><span class="math display">
\underbrace{P(x\vert y,n)}_{Posterior} = \frac{\overbrace{P(y,n\vert x)}^{likelihood}\ \overbrace{P(x)}^{priors}}{\underbrace{P(y,n)}_{marginal\ likelihood}}
</span></p>
</div>
</section>
<section id="model-likelihood-pyvert-d" class="slide level2">
<h2>Model likelihood: <span class="math inline">P(y\vert D)</span></h2>
<p><img data-src="what-is-the-posterior-assets/billiards/likelihood-stretch.png" class="absolute" style="top: 100px; left: 0px; "></p>
</section>
<section id="model-priors-and-likelihood" class="slide level2">
<h2>Model priors and likelihood</h2>
<p><br></p>

<img data-src="what-is-the-posterior-assets/billiards/prior-likelihood.png" class="r-stretch"></section>
<section id="time-to-fit" class="slide level2">
<h2>Time to fit</h2>
<p><br> <br></p>
<div style="font-size: 7em; text-align: center">
<p>👋</p>
</div>
</section>
<section id="where-was-the-first-roll" class="slide level2">
<h2>Where was the first roll?</h2>

<img data-src="what-is-the-posterior-assets/billiards/prior-posterior.png" class="r-stretch"></section></section>
<section>
<section id="so-what" class="title-slide slide level1 center">
<h1>So what?</h1>

</section>
<section id="probabilities-exhibit-predictable-behavior" class="slide level2">
<h2>Probabilities exhibit predictable behavior</h2>
<p><br> <br></p>
<div style="font-size: .8em">
<blockquote>
<p>Posterior means should be correct on average, 50% intervals should contain the true values half the time, and so forth.</p>
</blockquote>
<div style="text-align: right">
<a href="http://www.stat.columbia.edu/~gelman/book/BDA3.pdf">Bayesian Data Analysis</a>
</div>
</div>
</section>
<section id="posterior-means" class="slide level2">
<h2>Posterior means</h2>
<div class="r-hstack" style="margin: 1em;">
<p><img data-src="what-is-the-posterior-assets/billiards/posterior-p-residual.png" style="width:77.0%"></p>
<div class="margin-comment">
<p>If we play this game many times the posterior mean produces reliable estimates of the position of the first roll</p>
</div>
</div>
</section>
<section id="posterior-intervals" class="slide level2">
<h2>Posterior intervals</h2>
<p><br></p>
<div class="r-hstack">
<p><img data-src="what-is-the-posterior-assets/billiards/posterior-p.png"></p>
<div class="margin-comment">
<p>The 90% HDI of our posterior contains <span class="math inline">x_{i}</span> ~90% of the time as expected</p>
</div>
</div>
</section>
<section id="posteriors-as-random-variables" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Posteriors as random variables</h2>
<p>We can manipulate the posterior as a random variable, e.g.&nbsp;we can consider expressions such as</p>
<ul>
<li><span class="math inline">cX</span></li>
<li><span class="math inline">X + Y</span></li>
<li><span class="math inline">\log(X)</span></li>
<li><span class="math inline">X | Y</span></li>
<li><span class="math inline">X &lt; Y</span></li>
</ul>
</section>
<section id="implication-posterior-prediction" class="slide level2">
<h2>Implication: posterior prediction</h2>
<p><br></p>
<p>Treating the posterior as a random variable also justifies the ability to generate predictions from posterior</p>
<p><br></p>
<p><span class="math display">
\overbrace{p(\hat{y}\vert y)}^{posterior\ prediction}=\overbrace{p(\hat{y}\vert \theta)}^{generative\ model}\times\overbrace{p(\theta\vert y)}^{the\ posterior}
</span></p>
</section>
<section id="what-is-the-probability-of-bob-winning" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">What is the probability of Bob winning?</h2>
<p>Bob must score 3 times in a row, thus <span class="math display">p(B\vert x) = (1-x)^{3}</span></p>
<div class="fragment">
<p>Due to our uncertainty of <span class="math inline">x</span> we can frame this as</p>
<div data-id="1" style="position: absolute; bottom; 0">
<p><span class="math display">
p(B\vert y, n)=\int_{0}^{1}{\overbrace{(1-x)^{3}}^{we\ want\ this}\times\underbrace{p(x\vert y,n)}_{we\ have\ this} dx}
</span></p>
</div>
</div>
</section>
<section id="what-is-the-probability-of-bob-winning-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">What is the probability of Bob winning?</h2>
<p>We can solve for this value analytically, or…</p>
<div data-id="1" style="position: absolute; bottom: 0;">
<p><span class="math display">
p(B\vert y, n)=\int_{0}^{1}{\overbrace{(1-x)^{3}}^{we\ want\ this}\times\underbrace{p(x\vert y,n)}_{we\ have\ this} dx}
</span></p>
</div>
</section>
<section id="what-is-the-probability-of-bob-winning-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">What is the probability of Bob winning?</h2>
<p>We can use <strong>numeric methods to generate samples from the posterior</strong> without explicitly solving the integrals required to analytically compute the posterior</p>
<div data-id="1" style="position: absolute; bottom: 0;">
<p><span class="math display">
p(B\vert y, n)=\int_{0}^{1}{\overbrace{(1-x)^{3}}^{we\ want\ this}\times\underbrace{p(x\vert y,n)}_{we\ have\ this} dx}
</span></p>
</div>
<aside class="notes">
<p>These methods exist because <span class="math inline">P(D)</span> is usually difficult to compute. But it’s good news for anyone who likes to problem solve with a computer.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-is-the-probability-of-bob-winning-3" class="slide level2">
<h2>What is the probability of Bob winning?</h2>
<p>The intuition is to think of the integrand as a weighted average, which is approximated by the sample frequencies of <span class="math inline">x_{i}\sim p(x\vert y,n)</span></p>
<p><span class="math display">
p(B\vert y, n)\approx\frac{1}{N}\sum_{i=1}^{N}{(1-x_{i})^{3}}
</span></p>
</section>
<section id="enter-hmc" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Enter HMC</h2>
<p><br></p>
<div class="columns" style="margin: 0">
<div class="column" style="margin: 0">
<div>
<p><img src="what-is-the-posterior-assets/billiards/posterior-samples.png"></p>
</div>
</div><div class="column">
<br>
<div class="margin-comment">
<div class="sourceCode" id="cb1" data-code-line-numbers="false" style="border: 0"><pre class="sourceCode python code-with-copy" data-id="quarto-animate-code"><code class="sourceCode python hljs"><span id="cb1-1" class="hljs-ln-code"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pymc <span class="im">as</span> pm</span>
<span id="cb1-2" class="hljs-ln-code"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3" class="hljs-ln-code"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>alice, bob <span class="op">=</span> <span class="dv">5</span>, <span class="dv">3</span></span>
<span id="cb1-4" class="hljs-ln-code"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> pm.Model() <span class="im">as</span> model:</span>
<span id="cb1-5" class="hljs-ln-code"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> pm.Uniform(<span class="st">'x'</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb1-6" class="hljs-ln-code"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    likelihood <span class="op">=</span> pm.Binomial(<span class="st">'likelihood'</span>,</span>
<span id="cb1-7" class="hljs-ln-code"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>                             p<span class="op">=</span>x,</span>
<span id="cb1-8" class="hljs-ln-code"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                             n<span class="op">=</span>alice<span class="op">+</span>bob,</span>
<span id="cb1-9" class="hljs-ln-code"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                             observed<span class="op">=</span>alice)</span>
<span id="cb1-10" class="hljs-ln-code"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    idata <span class="op">=</span> pm.sample()</span>
<span id="cb1-11" class="hljs-ln-code"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12" class="hljs-ln-code"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>plt.hist(idata.posterior.x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="enter-hmc-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Enter HMC</h2>
<p><br></p>
<div class="columns" style="margin: 0">
<div class="column" style="margin: 0">
<div>
<p><img src="what-is-the-posterior-assets/billiards/posterior-samples.png"></p>
</div>
</div><div class="column">
<br>
<div class="margin-comment">
<div class="sourceCode" id="cb2" data-code-line-numbers="false" style="border: 0"><pre class="sourceCode python code-with-copy" data-id="quarto-animate-code"><code class="sourceCode python hljs"><span id="cb2-1" class="hljs-ln-code"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pymc <span class="im">as</span> pm</span>
<span id="cb2-2" class="hljs-ln-code"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3" class="hljs-ln-code"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>alice, bob <span class="op">=</span> <span class="dv">5</span>, <span class="dv">3</span></span>
<span id="cb2-4" class="hljs-ln-code"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> pm.Model() <span class="im">as</span> model:</span>
<span id="cb2-5" class="hljs-ln-code"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> pm.Uniform(<span class="st">'x'</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb2-6" class="hljs-ln-code"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    likelihood <span class="op">=</span> pm.Binomial(<span class="st">'likelihood'</span>,</span>
<span id="cb2-7" class="hljs-ln-code"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                             p<span class="op">=</span>x,</span>
<span id="cb2-8" class="hljs-ln-code"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                             n<span class="op">=</span>alice<span class="op">+</span>bob,</span>
<span id="cb2-9" class="hljs-ln-code"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                             observed<span class="op">=</span>alice)</span>
<span id="cb2-10" class="hljs-ln-code"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    idata <span class="op">=</span> pm.sample()</span>
<span id="cb2-11" class="hljs-ln-code"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12" class="hljs-ln-code"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ↓↓↓ approximate the integration ↓↓↓</span></span>
<span id="cb2-13" class="hljs-ln-code"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>np.power(<span class="dv">1</span><span class="op">-</span>idata.posterior.x, <span class="dv">3</span>).mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="new-possibilities" class="slide level2">
<h2>New possibilities</h2>
<p><br></p>
<p>This opens up the possibility of modeling outcomes, via simulation, that are more difficult to express analytically, such as</p>
<ul>
<li>The point spread between Bob and Alice</li>
<li>Or, the number rounds required for Bob or Alice to reach 6 points</li>
</ul>
</section>
<section id="simulating-rounds-remaining" class="slide level2">
<h2>Simulating rounds remaining</h2>
<p>We can simulate these outcomes with samples from the posterior</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>alice <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>bob <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>xi <span class="op">=</span> np.random.choice(idata.posterior.x.values.ravel())</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">4</span>):</span>
<span id="cb3-5"><a href="#cb3-5"></a>    y <span class="op">=</span> np.random.choice([<span class="dv">0</span>, <span class="dv">1</span>], p<span class="op">=</span>[<span class="dv">1</span><span class="op">-</span>xi, xi])</span>
<span id="cb3-6"><a href="#cb3-6"></a>    alice <span class="op">+=</span> y</span>
<span id="cb3-7"><a href="#cb3-7"></a>    bob <span class="op">+=</span> (<span class="dv">1</span><span class="op">-</span>y)</span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="cf">if</span> <span class="bu">max</span>([alice, bob]) <span class="op">==</span> <span class="dv">6</span>:</span>
<span id="cb3-9"><a href="#cb3-9"></a>        <span class="cf">break</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>n  <span class="co"># &lt;- this is our answer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="random-variables-in-random-variables-out" class="slide level2">
<h2>Random variables in, random variables out</h2>
<p><br></p>
<div class="r-hstack">
<p><img data-src="what-is-the-posterior-assets/billiards/posterior-point-spread.png"></p>
<div class="margin-comment" style="max-width: 10em; font-size: .7em">
<p>We also expect reliable long term behavior from the posterior predictive distributions. Thus, simulations of, e.g., point spread should exhibit these properties</p>
</div>
</div>
</section>
<section id="a-subtle-point" class="slide level2">
<h2>A subtle point</h2>
<p><br></p>
<div>
<blockquote>
<p>The point is subtle: Bayesian inference does not actually require the generative model; all it needs from the data is the likelihood, and different generative models can have the same likelihood. But Bayesian data analysis requires the generative model to be able to perform predictive simulation and model checking, … and Bayesian workflow will consider a series of generative models</p>
</blockquote>
<div style="text-align: right">
<a href="https://arxiv.org/pdf/2011.01808">Gelman et. al 2020</a>
</div>
</div>
</section>
<section id="taking-stock-of-our-building-blocks" class="slide level2">
<h2>Taking stock of our building blocks</h2>
<p><br></p>
<ul>
<li>Expectations are expectations</li>
<li>Intervals are intervals</li>
<li>We can manipulate the posterior algebraically</li>
<li>We use samples to approximate the posterior</li>
<li>Tools like <code>pymc</code> make our solutions look more programmatic than analytic</li>
</ul>
</section>
<section id="references" class="slide level2">
<h2>References</h2>
<div style="font-size: .8em">
<ul>
<li><a href="https://jakevdp.github.io/blog/2014/06/06/frequentism-and-bayesianism-2-when-results-differ/">Jake Vanderplaas</a>: In depth treatment of the analytic solution to the billiards problem</li>
<li><a href="https://allendowney.blogspot.com/2015/06/bayesian-billiards.html">Allen Downey</a>: Commentary on Jake Vanderplaas’ article, much in the spirit of this presentation</li>
<li>Richard McElreath: Another example of a simple beta-binomial model</li>
<li><a href="https://en.wikipedia.org/wiki/The_Signal_and_the_Noise">The Signal and the Noise</a>: Nate silver calculates posteriors for simple discrete distributions throughout the book</li>
<li><a href="https://www.pymc.io/projects/examples/en/latest/case_studies/putting_workflow.html">pymc 2, 3-put simulation</a>: Well known case study, with an extension that explores simulations from the posterior.</li>
<li><a href="https://mc-stan.org/docs/stan-users-guide/posterior-prediction.html">Stan User Guide</a>: Nice explanation of posterior prediction/simulation</li>
<li><a href="https://statmodeling.stat.columbia.edu/2014/07/15/stan-world-cup-update/">Stan goes to the world cup</a>: Blog post that highlights the utility of interpreting the posterior as a probabilities.</li>
</ul>
</div>
</section></section>
<section>
<section id="example-investing" class="title-slide slide level1 center">
<h1>Example: Investing</h1>

</section>
<section id="background-the-kelly-criterion" class="slide level2">
<h2>Background: the Kelly criterion</h2>
<p><br></p>
<p>In a simple game of chance that has a chance <span class="math inline">p</span> of paying fair odds, one should invest the fraction <span class="math inline">f^{*}</span>, of their total wealth <span class="math inline">W</span> that maximizes the <em>expected exponential growth rate of their wealth</em></p>
<p><span class="math display">
p\log(1+f) + (1-p)\log(1-f)
</span></p>
<div class="footnote">
<p>Proposed by John Kelly in <a href="https://www.princeton.edu/~wbialek/rome/refs/kelly_56.pdf">1956</a></p>
</div>
</section>
<section id="properties-of-the-kelly-criterion" class="slide level2">
<h2>Properties of the Kelly Criterion</h2>
<p><br></p>

<img data-src="what-is-the-posterior-assets/investing/kelly-criterion.png" style="padding: .8em" class="r-stretch"><div class="margin-comment" style="position: absolute; top: 8em; right: 0em; max-width: 10em;">
<p>Properties of the Kelly Criterion include: a global maximum, a point of diminishing returns and “greed” that produces inevitable ruin.</p>
</div>
</section>
<section id="ed-thorp-and-the-kelly-criterion" class="slide level2">
<h2>Ed Thorp and the Kelly criterion</h2>
<p><br></p>
<p>What if we want to apply the Kelly criterion to a “continuous gambling game”, such as the stock market?</p>
<div style="text-align: center;">
<p><img data-src="what-is-the-posterior-assets/investing/historical-returns.png" style="width:80.0%"></p>
</div>
</section>
<section id="generalizing-the-kelly-criterion" class="slide level2">
<h2>Generalizing the Kelly criterion</h2>
<p><br></p>
<p>If a game has a chance <span class="math inline">p(s)</span> of paying out odds <span class="math inline">s</span>, following the Kelly Criterion, our objective function is</p>
<p><span class="math display">
\underset{f}{\argmax}\  \int_{}^{}{p(s)\log(1+fs)ds}
</span></p>
<p>Where <span class="math inline">s</span> could represent, e.g., the excess S&amp;P returns.</p>
<div class="fragment">
<p><strong>Importantly, this approach requires we assign a probability distribution to <span class="math inline">s</span></strong></p>
</div>
</section>
<section id="how-to-model-s" class="slide level2">
<h2>How to model <span class="math inline">s</span>?</h2>
<p>Thorp took to modeling <span class="math inline">s</span> analytically, and using numeric methods to handle the integral</p>
<p><span class="math display">
p(s)=\begin{cases}
h+\frac{1}{\sqrt{2\pi\alpha}}e^{\frac{-(s-\bar{\mu})^{2}}{2\bar{\alpha}^{2}}}&amp; A&lt;s&lt;B\\
0&amp;\text{otherwise}
\end{cases}
</span></p>
<div class="fragment">
<p><br> We’ll refer to this as the “empirical pdf”, because it’s based on the observed values <span class="math inline">\bar{\mu},\ \bar{\sigma}</span></p>
</div>
</section>
<section id="thorps-conclusion-invest-heavily" class="slide level2">
<h2>Thorp’s conclusion: invest heavily</h2>
<p><br></p>

<img data-src="what-is-the-posterior-assets/investing/analytic-problem-solution.png" style="margin-bottom: 0; margin-top: 24px;" class="r-stretch"><aside class="notes">
<p>Thorp’s results demonstrate the same properties of the Kelly criterion found in discrete cases</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="motivating-a-bayesian-approach" class="title-slide slide level1 center">
<h1>Motivating a Bayesian approach</h1>

</section>
<section id="what-is-the-true-data-generating-distribution" class="slide level2">
<h2>What is the true data generating distribution?</h2>

<img data-src="what-is-the-posterior-assets/investing/motivating-bayesian-approach.png" style="margin-bottom: 0; margin-top: 24px;" class="r-stretch"><aside class="notes">
<p>In reality, many distributions <span class="math inline">N(\mu,\sigma)</span> could have generated the observed excess returns, <span class="math inline">s</span>, implying varying investment strategies</p>
<p>Analogous to the Billiards problem, we can simply “integrate away” these nuisance parameters (<span class="math inline">\mu,\ \sigma</span>)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="extending-our-take-on-the-billiards-problem" class="slide level2">
<h2>Extending our take on the billiards problem</h2>
<p><br></p>
<p>Instead of choosing a fixed pair <span class="math inline">(\mu,\sigma)</span>, we can integrate over a range of plausible values <span class="math display">p(s\vert r)=p(s\vert \mu,\sigma)p(\mu,\sigma\vert r)</span></p>
</section>
<section id="extending-our-take-on-the-billiards-problem-1" class="slide level2">
<h2>Extending our take on the billiards problem</h2>
<p><br></p>
<p>Then, we find our investment strategy <span class="math inline">f^{*}</span> by optimizing over samples of the posterior predictive growth rates</p>
<p><span class="math display">
\argmax_{f} \frac{1}{N}\sum_{i=1}^{N}{\log(1+fs_{i})}
</span></p>
</section>
<section id="code" class="slide level2">
<h2>Code</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="im">import</span> pymc <span class="im">as</span> pm</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="cf">with</span> pm.Model() <span class="im">as</span> model:</span>
<span id="cb4-4"><a href="#cb4-4"></a>    μ <span class="op">=</span> pm.Gamma(<span class="st">'μ'</span>, mu<span class="op">=</span><span class="fl">.04</span>, sigma<span class="op">=</span><span class="fl">.005</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a>    σ <span class="op">=</span> pm.Gamma(<span class="st">'σ'</span>, mu<span class="op">=</span><span class="fl">.2</span>, sigma<span class="op">=</span><span class="fl">.05</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a>    likelihood <span class="op">=</span> pm.Normal(<span class="st">'likelihood'</span>, mu<span class="op">=</span>μ, sigma<span class="op">=</span>σ, observed<span class="op">=</span>r)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<img data-src="what-is-the-posterior-assets/investing/posterior-traceplot.png" class="r-stretch"></section>
<section id="posterior-predictive-samples" class="slide level2">
<h2>Posterior predictive samples</h2>
<p><br></p>
<div style="text-align: center">
<p><img data-src="what-is-the-posterior-assets/investing/posterior-predictive-returns.png" style="width:90.0%"></p>
</div>
</section>
<section id="solving-for-f-brute-force" class="slide level2">
<h2>Solving for <span class="math inline">f</span>: brute force</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># 1. generate samples of `r` from the posterior</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="cf">with</span> model:</span>
<span id="cb5-3"><a href="#cb5-3"></a>    pm.sample_posterior_predictive(idata, ...)</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co"># just an alias</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>p_s_r <span class="op">=</span> idata.posterior_predictive.p_s_r.values.ravel()</span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co"># 2. define the space we want to optimize over and calculate</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#    the expected growth rate</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>f <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span><span class="op">/</span>np.<span class="bu">min</span>(p_s_r), num<span class="op">=</span><span class="dv">40</span>)</span>
<span id="cb5-10"><a href="#cb5-10"></a>expected_growth_rate <span class="op">=</span> np.log(</span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="dv">1</span> <span class="op">+</span> (p_s_r[:, <span class="va">None</span>] <span class="op">*</span> f[<span class="va">None</span>, :])</span>
<span id="cb5-12"><a href="#cb5-12"></a>).mean(axis<span class="op">=</span><span class="dv">0</span>)  <span class="co"># &lt;- "integrate" over posterior predictive: p(s|μ,σ)</span></span>
<span id="cb5-13"><a href="#cb5-13"></a></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co"># 3. find the value of `f` that resulted in the highest expected</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#    growth rate</span></span>
<span id="cb5-16"><a href="#cb5-16"></a>f[np.argmax(expected_growth_rate)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="solving-for-f-better" class="slide level2">
<h2>Solving for <span class="math inline">f</span>: better</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># define optimization problem: variable and objective</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>f <span class="op">=</span> torch.rand(<span class="dv">1</span>, requires_grad<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="kw">def</span> objective(f):</span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="cf">return</span> torch.log(<span class="dv">1</span> <span class="op">+</span> p_s_r<span class="op">*</span>f).mean()</span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># torch setup</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>optimizer <span class="op">=</span> torch.optim.Adam([f])</span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co"># ↓↓↓ do this a lot ↓↓↓</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(N):</span>
<span id="cb6-11"><a href="#cb6-11"></a>    optimizer.zero_grad()</span>
<span id="cb6-12"><a href="#cb6-12"></a>    loss <span class="op">=</span> <span class="op">-</span>objective(f)</span>
<span id="cb6-13"><a href="#cb6-13"></a>    loss.backward()</span>
<span id="cb6-14"><a href="#cb6-14"></a>    optimizer.step()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="posterior-predictive-growth-rate" class="slide level2">
<h2>Posterior predictive growth rate</h2>
<div style="font-size: .8em">
<p>Not only can we extract the usual summary statistics from the posterior predictive, but we can ask questions like, “how often do we expect this strategy to produce a loss after a 100 year investment period?”</p>
</div>
<div style="text-align: center">
<p><img data-src="what-is-the-posterior-assets/investing/posterior-predictive-growth.png" style="width:75.0%"></p>
</div>
</section>
<section id="whats-next" class="slide level2">
<h2>What’s next?</h2>
<p>Seeing the flexibility using a tool like <code>torch</code> gives us, we can now imagine scenarios such as finding the optimal solution</p>
<p><span class="math display">
f=\langle f_{1},\ldots,f_{n}\rangle
</span></p>
<p>of fractional investments of a portfolio with returns</p>
<p><span class="math display">
s\sim \langle N(\mu_{1},\sigma_{1}),\ldots,N(\mu_{n},\sigma_{n})\rangle
</span></p>
<div class="fragment">
<p>Granted, this introduces new complexity such as accounting for covariance amongst the assets, but we have a starting point</p>
</div>
</section>
<section id="references-1" class="slide level2">
<h2>References</h2>
<ul>
<li><a href="https://www.edwardothorp.com/wp-content/uploads/2016/11/TheKellyCriterionAndTheStockMarket.pdf">The Kelly Criterion And The Stock Market</a>: Ed Thorp details his approach</li>
<li><a href="https://www.kaggle.com/c/DarkWorlds">Dark Worlds</a>: Tim Saliman’s solution provides another example of optimizing a loss function over the posterior</li>
</ul>
</section></section>
<section>
<section id="what-about-the-real-world" class="title-slide slide level1 center">
<h1>What about the real world?</h1>

</section>
<section id="imagine-these-were-conversion-rates" class="slide level2">
<h2>Imagine: these were conversion rates</h2>
<p><img data-src="what-is-the-posterior-assets/billiards/posterior-summary-mean.png" class="absolute" style="bottom: 0px; right: 0px; "></p>
<div class="fragment">
<div class="headline">
<p><img data-src="what-is-the-posterior-assets/billiards/headline-mean-conversion-rates.jpg" class="absolute" style="top: 120px; left: 0px; "></p>
</div>
</div>
</section>
<section id="imagine-these-were-conversion-rates-1" class="slide level2">
<h2>Imagine: these were conversion rates</h2>
<p><img data-src="what-is-the-posterior-assets/billiards/posterior-summary-interval.png" class="absolute" style="bottom: 0px; right: 0px; "></p>
<div class="headline">
<p><img data-src="what-is-the-posterior-assets/billiards/headline-between-conversion-rates.jpg" class="absolute" style="top: 120px; left: 0px; "></p>
</div>
</section>
<section id="resist-the-temptation" class="slide level2">
<h2>Resist the temptation</h2>

<img data-src="what-is-the-posterior-assets/the-temptation-of-saint-anthony.jpg" class="r-stretch"></section>
<section id="similar-to-point-spread" class="slide level2">
<h2>Similar to point-spread</h2>
<div class="r-hstack">
<p><img data-src="what-is-the-posterior-assets/conversion-rates/compare-channels.png"></p>
<div class="margin-comment">
<p>We could consider the probability that one “channel” will outperform another: i.e.&nbsp;<span class="math inline">p(c_{1} &lt; c_{2})</span></p>
</div>
</div>
</section>
<section id="comparison" class="slide level2">
<h2>Comparison</h2>
<p><br></p>
<div class="columns">
<div class="column" style="margin: 0">
<div>
<p><img src="what-is-the-posterior-assets/conversion-rates/posterior-performance.png"></p>
</div>
</div><div class="column">
<br>
<div class="margin-comment">
<div class="sourceCode" id="cb7" data-code-line-numbers="false" style="border: 0"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> pm.Model() <span class="im">as</span> model:</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    θ <span class="op">=</span> pm.Beta(<span class="st">'θ'</span>, <span class="dv">1</span>, <span class="dv">1</span>, size<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    pm.Binomial(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y1'</span>, p<span class="op">=</span>θ[<span class="dv">0</span>], n<span class="op">=</span>n1, observed<span class="op">=</span>y1</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    pm.Binomial(</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y2'</span>, p<span class="op">=</span>θ[<span class="dv">1</span>], n<span class="op">=</span>n2, observed<span class="op">=</span>y2</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    idata <span class="op">=</span> pm.sample()</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>θ_post <span class="op">=</span> idata.posterior.θ</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>(θ_post[..., <span class="dv">1</span>] <span class="op">&gt;</span> θ_post[..., <span class="dv">0</span>]).mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="thompson-sampling" class="slide level2">
<h2>Thompson sampling</h2>
<p><br></p>
<div class="columns">
<div class="column" style="margin: 0">
<div>
<p><img src="what-is-the-posterior-assets/conversion-rates/posterior-performance.png"></p>
</div>
</div><div class="column">
<br>
<div class="margin-comment">
<p>Thompson sampling allows for “live” A/B testing, where action <span class="math inline">A</span> is taken according to the probability that <span class="math inline">A &gt; B</span>.</p>
</div>
</div>
</div>
</section>
<section id="anomaly-detection" class="slide level2">
<h2>Anomaly detection</h2>
<p><br></p>
<div class="r-hstack">
<p><img src="what-is-the-posterior-assets/anomaly-detection/time-series.png" style="z-index: -1"></p>
<div class="margin-comment" style="max-width: 10em">
<p>These properties also hold for more complex generative models such time series forecasts with trend and seasonal components.</p>
</div>
</div>
</section>
<section id="another-case-for-optimization" class="slide level2">
<h2>Another case for optimization</h2>
<p><br></p>
<p>Bayesian marketing mix models have been gaining popularity. One of their primary uses cases is finding the optimal allocation of a budget across marketing channels.</p>
</section>
<section id="references-2" class="slide level2">
<h2>References</h2>
<ul>
<li><a href="https://www.youtube.com/watch?v=vupP9MYXeFM&amp;ab_channel=PyData">Austin Rochford: Bayesian Bandits</a></li>
<li><a href="https://www.pymc-marketing.io/en/stable/guide/mmm/mmm_intro.html">PyMC Labs</a>: Blog post on marketing mix models and their use cases.</li>
<li><a href="https://www.youtube.com/watch?v=7KrspD1TZNU&ab_channel=PyMCDevelopers">Dante Gates: Bayes in industry</a>: Talk on the benefits of Bayesian Inference in industry</li>
</ul>
<!-- {{< include slides/_calibration.qmd >}} -->
<!-- {{< include slides/_use-cases.qmd >}} -->
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="what-is-the-posterior-files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="what-is-the-posterior-files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="what-is-the-posterior-files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="what-is-the-posterior-files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="what-is-the-posterior-files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="what-is-the-posterior-files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="what-is-the-posterior-files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="what-is-the-posterior-files/libs/revealjs/plugin/search/search.js"></script>
  <script src="what-is-the-posterior-files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>